'use strict';
var app=angular.module('app')
.config(['$stateProvider','$urlRouterProvider',function($stateProvider,$urlRouterProvider){
$urlRouterProvider.otherwise('/diagram/DQMX');
$stateProvider
.state('main',{
abstract:true,
url:'',
templateUrl:'src/tpl/app.html',
controller:'appCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/appCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.test',{
url:'/test',
template:'<div ui-view><div>'
})
.state('main.test.test1',{
url:'/test1',
templateUrl:'src/app/windows/window_test/test1.html',
controller:'test1Ctrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_test/test1Ctrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.test.test2',{
url:'/test2',
templateUrl:'src/app/windows/window_test/test2_svgTest.html',
controller:'test2_svgTestCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_test/test2_svgTestCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.test.test3',{
url:'/test3',
templateUrl:'src/app/windows/window_test/test3_svgShow.html',
controller:'test3_svgShowCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_test/test3_svgShowCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.powerSave',{
url:'/powerSave',
templateUrl:'src/app/windows/window_powerSave/powerSave.html',
controller:'powerSaveCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_powerSave/powerSaveCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.powerSave.peakLoadShifting',{
url:'/peakLoadShifting',
templateUrl:'src/app/windows/window_powerSave/peakLoadShifting.html',
controller:'peakLoadShiftingCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_powerSave/peakLoadShiftingCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.powerSave.powerCompensate',{
url:'/powerCompensate',
templateUrl:'src/app/windows/window_powerSave/powerCompensate.html',
controller:'powerCompensateCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_powerSave/powerCompensateCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.powerSave.controlEnergySaving',{
url:'/controlEnergySaving',
templateUrl:'src/app/windows/window_powerSave/controlEnergySaving.html',
controller:'controlEnergySavingCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_powerSave/controlEnergySavingCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.powerSave.remoteSaving',{
url:'/remoteSaving',
templateUrl:'src/app/windows/window_powerSave/remoteSaving.html',
controller:'remoteSavingCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_powerSave/remoteSavingCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.diagram',{
url:'/diagram',
templateUrl:'src/app/windows/window_diagram/diagram.html',
controller:'diagramCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_diagram/diagramCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.diagram.DQMX',{
url:'/DQMX',
templateUrl:'src/app/windows/window_diagram/DQMX.html',
controller:'DQMXCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_diagram/DQMXCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.diagram.SJYZT',{
url:'/SJYZT',
templateUrl:'src/app/windows/window_diagram/SJYZT.html',
controller:'SJYZTCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_diagram/SJYZTCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.diagram.SJYZT.allData',{
url:'/allData',
templateUrl:'src/app/windows/window_diagram/dataAndStatus/allData.html',
controller:'allDataCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_diagram/dataAndStatus/allDataCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.diagram.yaokong',{
url:'/yaokong',
templateUrl:'src/app/windows/window_diagram/yaokong.html',
controller:'yaokongCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_diagram/yaokongCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.diagram.SJYZT.yaoxin',{
url:'/yaoxin?classname',
templateUrl:'src/app/windows/window_diagram/dataAndStatus/yaoxin.html',
controller:'yaoxinCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_diagram/dataAndStatus/yaoxinCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.diagram.SJYZT.fenzu',{
url:'/fenzu?title&classname',
templateUrl:'src/app/windows/window_diagram/dataAndStatus/fenzu.html',
controller:'fenzuCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_diagram/dataAndStatus/fenzuCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.power',{
url:'/power',
template:'<div ui-view></div>'
})
.state('main.power.DNZHCX',{
url:'/DNZHCX',
templateUrl:'src/app/windows/window_power/DNZHCX.html',
controller:'DNZHCXCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_power/DNZHCXCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.power.DNZHCX.DNCurrent',{
url:'/DNCurrent',
templateUrl:'src/app/windows/window_power/DNCurrent.html',
controller:'DNCurrentCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_power/DNCurrentCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.power.DNZHCX.DNLog',{
url:'/DNLog',
templateUrl:'src/app/windows/window_power/DNLog.html',
controller:'DNLogCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_power/DNLogCtrl.js').then(function(){
return $ocLazyLoad.load('toaster');
});
}]
}
})
.state('main.power.DNZHCX.DNLogWaveform',{
url:'/DNLogWaveform',
templateUrl:'src/app/windows/window_power/DNLogWaveform.html',
controller:'DNLogWaveformCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_power/DNLogWaveformCtrl.js').then(function(){
return $ocLazyLoad.load('toaster');
});
}]
}
})
.state('main.power.DNZLZHCX',{
url:'/DNZLZHCX',
templateUrl:'src/app/windows/window_power/DNZLZHCX.html'
})
.state('main.power.DNZLZHCX.DNZLCurrent',{
url:'/DNZLCurrent',
templateUrl:'src/app/windows/window_power/DNZLCurrent.html',
controller:'DNZLCurrentCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_power/DNZLCurrentCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.power.DNZLZHCX.DNZLLog',{
url:'/DNZLLog',
templateUrl:'src/app/windows/window_power/DNZLLog.html',
controller:'DNZLLogCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_power/DNZLLogCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.power.DNZLZHCX.DNZLLogWaveform',{
url:'/DNZLLogWaveform',
templateUrl:'src/app/windows/window_power/DNZLLogWaveform.html',
controller:'DNZLLogWaveformCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_power/DNZLLogWaveformCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.power.DNEventReport',{
url:'/DNEventReport',
templateUrl:'src/app/windows/window_power/DNEventReport.html',
controller:'DNEventReportCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_power/DNEventReportCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.power.DNQualityAssess',{
url:'/DNQualityAssess',
templateUrl:'src/app/windows/window_power/DNQualityAssess.html',
controller:'DNQualityAssessCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_power/DNQualityAssessCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.equipmentManage',{
url:'/equipmentManage',
templateUrl:'src/app/windows/window_equipmentManage/equipmentManage.html',
controller:'equipmentManageCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_equipmentManage/equipmentManageCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.equipmentManage.equipmentSelectItem',{
url:'/equipmentSelectItem',
templateUrl:'src/app/windows/window_equipmentManage/equipmentSelectItem.html',
controller:'equipmentSelectItemCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_equipmentManage/equipmentSelectItemCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.equipmentManage.equipmentForecast',{
url:'/equipmentForecast',
templateUrl:'src/app/windows/window_equipmentManage/equipmentForecast.html',
controller:'equipmentForecastCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_equipmentManage/equipmentForecastCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.equipmentManage.equipmentSafe',{
url:'/equipmentSafe',
templateUrl:'src/app/windows/window_equipmentManage/equipmentSafe.html',
controller:'equipmentSafeCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_equipmentManage/equipmentSafeCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.assessment',{
url:'/assessment',
template:'<div ui-view></div>'
})
.state('main.assessment.switch',{
url:'/switch',
templateUrl:'src/app/windows/window_assessment/switch.html',
controller:'switchCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_assessment/switchCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.assessment.important',{
url:'/important',
templateUrl:'src/app/windows/window_assessment/important.html',
controller:'importantCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_assessment/importantCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.assessment.others',{
url:'/others',
templateUrl:'src/app/windows/window_assessment/others.html',
controller:'othersCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_assessment/othersCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.energyEfficiency',{
url:'/energyEfficiency',
templateUrl:'src/app/windows/window_energyEfficiency/enengyEfficiency.html',
controller:'enengyEfficiencyCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_energyEfficiency/enengyEfficiencyCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.energyEfficiency.totalloadAnalog',{
url:'/totalloadAnalog',
templateUrl:'src/app/windows/window_energyEfficiency/totalloadAnalog.html',
controller:'totalloadAnalogCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_energyEfficiency/totalloadAnalogCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.energyEfficiency.loadForecast',{
url:'/loadForecast',
templateUrl:'src/app/windows/window_energyEfficiency/loadForecast.html',
controller:'loadForecastCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_energyEfficiency/loadForecastCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.energyEfficiency.equipSaving',{
url:'/equipSaving',
templateUrl:'src/app/windows/window_energyEfficiency/equipSaving.html',
controller:'equipSavingCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_energyEfficiency/equipSavingCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.energyEfficiency.savingAnalysis',{
url:'/savingAnalysis',
templateUrl:'src/app/windows/window_energyEfficiency/savingAnalysis.html',
controller:'savingAnalysisCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_energyEfficiency/savingAnalysisCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.energyEfficiency.loadStructure',{
url:'/loadStructure',
templateUrl:'src/app/windows/window_energyEfficiency/loadStructure.html',
controller:'loadStructureCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_energyEfficiency/loadStructureCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.energyEfficiency.efficiencyReport',{
url:'/efficiencyReport',
templateUrl:'src/app/windows/window_energyEfficiency/efficiencyReport.html',
controller:'efficiencyReportCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_energyEfficiency/efficiencyReportCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.protect',{
url:'/protect',
templateUrl:'src/app/windows/window_protect/protect.html',
controller:'protectCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_protect/protectCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.protect.BHXXZHCX',{
url:'/BHXXZHCX',
templateUrl:'src/app/windows/window_protect/BHXXZHCX.html',
controller:'BHXXZHCXCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_protect/BHXXZHCXCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.protect.SBKZGL',{
url:'/SBKZGL',
templateUrl:'src/app/windows/window_protect/SBKZGL.html',
controller:'SBKZGLCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_protect/SBKZGLCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.sysMaintains',{
url:'/sysMaintains',
templateUrl:'src/app/windows/window_sysMaintains/sysMaintains.html',
controller:'sysMaintainsCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_sysMaintains/sysMaintainsCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.protect.operateLog',{
url:'/operateLog',
templateUrl:'src/app/windows/window_protect/operateLog.html',
controller:'operateLogCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_protect/operateLogCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.temperature',{
url:'/temperature',
templateUrl:'src/app/windows/window_temperature/temperature.html',
controller:'temperatureCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_temperature/temperatureCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.temperature.temperatureCurrent',{
url:'/temperatureCurrent',
templateUrl:'src/app/windows/window_temperature/temperatureCurrent.html',
controller:'temperatureCurrentCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_temperature/temperatureCurrentCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.temperature.temperatureLog',{
url:'/temperatureLog',
templateUrl:'src/app/windows/window_temperature/temperatureLog.html',
controller:'temperatureLogCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_temperature/temperatureLogCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.temperature.logDiagram',{
url:'/logDiagram',
templateUrl:'src/app/windows/window_temperature/logDiagram.html',
controller:'logDiagramCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_temperature/logDiagramCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.troubleRemoval',{
url:'/troubleRemoval',
templateUrl:'src/app/windows/window_trouble/troubleRemoval.html',
controller:'troubleRemovalCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_trouble/troubleRemovalCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.operateLogS',{
url:'/operateLogS',
templateUrl:'src/app/windows/window_operateLog/operateLogS.html',
controller:'operateLogSCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_operateLog/operateLogSCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.system',{
url:'/system',
template:'<div ui-view></div>'
})
.state('main.system.sysSetting',{
url:'/sysSetting',
templateUrl:'src/app/windows/window_system/sysSetting.html',
controller:'sysSettingCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_system/sysSettingCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.system.fileManage',{
url:'/fileManage',
templateUrl:'src/app/windows/window_system/fileManage.html',
controller:'fileManageCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_system/fileManageCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage',{
url:'/dzManage',
templateUrl:'src/app/windows/window_DZManage/dzManage.html',
controller:'dzManageCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dzManageCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage.dz_volList',{
url:'/dz_volList',
templateUrl:'src/app/windows/window_DZManage/dz_volList.html',
controller:'dz_volListCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dz_volListCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage.dz_curList',{
url:'/dz_curList',
templateUrl:'src/app/windows/window_DZManage/dz_curList.html',
controller:'dz_curListCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dz_curListCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage.dz_cindependentList',{
url:'/dz_cindependentList',
templateUrl:'src/app/windows/window_DZManage/dz_cindependentList.html',
controller:'dz_cindependentListCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dz_cindependentListCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage.dz_uindependentList',{
url:'/dz_uindependentList',
templateUrl:'src/app/windows/window_DZManage/dz_uindependentList.html',
controller:'dz_uindependentListCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dz_uindependentListCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage.dz_switchList',{
url:'/dz_switchList',
templateUrl:'src/app/windows/window_DZManage/dz_switchList.html',
controller:'dz_switchListCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dz_switchListCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage.dz_protectList',{
url:'/dz_protectList',
templateUrl:'src/app/windows/window_DZManage/dz_protectList.html',
controller:'dz_protectListCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dz_protectListCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage.dz_systemList',{
url:'/dz_systemList',
templateUrl:'src/app/windows/window_DZManage/dz_systemList.html',
controller:'dz_systemListCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dz_systemListCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage.dz_alarmList',{
url:'/dz_alarmList',
templateUrl:'src/app/windows/window_DZManage/dz_alarmList.html',
controller:'dz_alarmListCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dz_alarmListCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.dzManage.dz_recordStartList',{
url:'/dz_recordStartList',
templateUrl:'src/app/windows/window_DZManage/dz_recordStartList.html',
controller:'dz_recordStartListCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_DZManage/dz_recordStartListCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.alarmRecord',{
url:'/alarmRecord',
templateUrl:'src/app/windows/window_alarmRecord/alarmRecord.html',
controller:'alarmRecordCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_alarmRecord/alarmRecordCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.alarmRecord.alarmManage',{
url:'/alarmManage',
templateUrl:'src/app/windows/window_alarmRecord/alarmManage.html',
controller:'alarmManageCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_alarmRecord/alarmManageCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.alarmRecord.recordManage',{
url:'/recordManage',
templateUrl:'src/app/windows/window_alarmRecord/recordManage.html',
controller:'recordManageCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_alarmRecord/recordManageCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.alarmRecord.troubleModal',{
url:'/troubleModal',
templateUrl:'src/app/windows/window_alarmRecord/troubleModal.html',
controller:'troubleModalCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_alarmRecord/troubleModalCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.alarmRecord.electricSafe',{
url:'/electricSafe',
templateUrl:'src/app/windows/window_alarmRecord/electricSafe.html',
controller:'electricSafeCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_alarmRecord/electricSafeCtrl.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
.state('main.alarmRecord.LSSJCX',{
url:'/LSSJCX',
templateUrl:'src/app/windows/window_alarmRecord/LSSJCX.html',
controller:'LSSJCXCtrl',
resolve:{
deps:['uiLoad','$ocLazyLoad',function(uiLoad,$ocLazyLoad){
return uiLoad.load('src/app/windows/window_alarmRecord/LSSJCXCtrl.min.js').then(function(){
return $ocLazyLoad.load('toaster')
});
}]
}
})
}])
.controller("navCtrl",function($rootScope,$scope,$state,yxLogin,yxLocalStorage){
$scope.leftLockFun=function(){
$rootScope.leftLock=!$rootScope.leftLock;
}
$.ajax({
type:('GET'),
url:('test/json/navCtrl.json'),
success:function(result){
if(global_level>5){
console.log(result)
}
$rootScope.menuList=result.menus;
$rootScope.nowTime=new Date();
$rootScope.$apply();
},
error:function(data){
yxLocalStorage.arrAdd({type:'error',msg:data,time:new Date()})
if(global_level>2){
console.log(data)
}
}
});
$scope.showHide=function(menu){
menu.isShow=!menu.isShow;
}
$scope.menuFun=function(modal){
modal.status=true;
if(modal.command){
switch(modal.command){
case'luboStartModal':
$rootScope.modals.luboStartModal=true;
break;
case'systemLoginModal':
yxLogin.logout();
$rootScope.modals.systemLoginModal=true;
break;
case'systemLogoutModal':
$rootScope.modals.systemLogoutModal=true;
break;
case'showCenter3':
$rootScope.showFooter();
break;
case'showRightArea':
$rootScope.showRight();
break;
case'refreshTimeModal':
$rootScope.modals.refreshTimeModal=true;
break;
case'dataRefresh':
if($rootScope.messageData){
$rootScope.wsTablemsg($rootScope.messageData);
}
break;
case'dzUpdateConfirmFun':
$rootScope.dzUpdateSubmit();
break;
default:
break;
}
}else{
$state.go(modal.request)
}
}
})
.controller("footerCtrl",function($rootScope,$scope,$state,$timeout){
$scope.item='gaojing';
$timeout(function(){
$('.app-center-footer').Tdrag({
axis:'y',
cbMove:function(el){
let boxHeight=parseInt($(el).css('height'))
$('.app-center-footer .footer-content .yx-list .yx-tableInfo tbody').css({'maxHeight':boxHeight-67+'px'})
}
});
},1000)
$scope.footTabSwitch=function(str){
$scope.item=str;
}
$scope.alarmsClear=function(){
$rootScope.currentAlarms=[]
}
$scope.alarmsDispose=function(){
angular.forEach($rootScope.currentAlarms,function(v,k){
if(v.checked){
v.State=1;
}
})
}
$scope.listExport=function(){
let obj={title:['告警时间','告警信息','状态','时长（ms）','动作数值'],data:[]};
angular.forEach($rootScope.currentAlarms,function(v,k){
let subArr=[];
subArr.push(v.Time,v.message,v.State,v.Duration,v.WarnValue);
obj.data.push(subArr)
})
$rootScope.listExport(obj)
}
$scope.c3Start={};
$scope.c3Start={};
$scope.alarmsDispose=function(){
angular.forEach($rootScope.currentAlarms,function(v){
if(v.checked){
v.webState=false
}
})
}
})
.controller("rightCtrl",function($rootScope,$scope,$state,yxRequest,toaster,$timeout){
$timeout(function(){
$('.app-right').Tdrag();
},300)
})
.controller("modalCtrl",function($rootScope,$scope,$state,yxLogin,toaster,yxRequest){
})
.run(['$rootScope','$state','$stateParams','$timeout','$templateCache',
function($rootScope,$state,$stateParams,$timeout,$templateCache){
$rootScope.$state=$state;
$rootScope.$stateParams=$stateParams;
$rootScope.$on('$stateChangeStart',function(event,toState,toParams,fromState,fromParams){
var from=fromState.name,
to=toState.name;
if(from&&to){
var s1=from.substring(0,from.lastIndexOf(".")),
g1=from.substring(from.lastIndexOf(".")+1),
s2=to.substring(0,to.lastIndexOf(".")),
g2=to.substring(to.lastIndexOf(".")+1);
if(s1==s2){
if(g1=='list'&&(g2=='update'||g2=='view')){
toParams['params']=window.location.hash;
}
if((g1=="update"||g1=='view')&&g2=='list'){
var h=fromParams['params'];
if(h){
$timeout(function(){
window.location.hash=h;
});
}
}
}
}
});
}
]);